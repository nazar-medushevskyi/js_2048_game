parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function r(r){return o(r)||t(r)||n(r)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,e){if(r){if("string"==typeof r)return i(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(r,e):void 0}}function t(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function o(r){if(Array.isArray(r))return i(r)}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var c=Array.from(document.querySelectorAll(".field-cell")),u=Array.from(document.querySelectorAll(".field-row")),a=document.querySelector(".start"),f=document.querySelector(".game-score"),l=[],s=0;function d(){var r=c.filter(function(r){return""===r.innerHTML});0!==r.length&&h(r[Math.floor(Math.random()*r.length)],Math.random()>.9?4:2)}function m(r){return r.map(function(r){return parseInt(r.innerHTML,10)||""})}function h(r,e){r.innerHTML=e||"",r.className="field-cell"+(e?" field-cell--".concat(e):"")}function y(r,e){var n=r.filter(function(r){return r}),t=4-n.length,o=Array(t).fill("");return"down"===e||"right"===e?o.concat(n):n.concat(o)}function g(){l.includes(!0)&&(l=[],d()),T()}function v(){for(var r=function(r){w("down",c.filter(function(e){return e.cellIndex===r}))},e=0;e<u.length;e++)r(e);g()}function p(){for(var r=function(r){w("up",c.filter(function(e){return e.cellIndex===r}))},e=0;e<u.length;e++)r(e);g()}function L(){for(var r=function(r){w("right",u.filter(function(e){return e.rowIndex===r})[0].cells)},e=0;e<u.length;e++)r(e);g()}function A(){for(var r=function(r){w("left",u.filter(function(e){return e.rowIndex===r})[0].cells)},e=0;e<u.length;e++)r(e);g()}function w(e,n){var t=m(r(n)),o=y(t,e);M(e,t)&&(S(n,o),b(e,o,n))}function b(r,e,n){if("left"===r||"up"===r)for(var t=1;t<e.length;t++){var o=e[t-1],i=e[t]+o;if(e[t]===o&&""!==o&&e[t+1]===e[t+2]&&e[t+1]&&e[t+2]){e[t-1]=i,e[t]=e[t+1]+e[t+2],e[t+1]="",e[t+2]="",q(i+e[t]),h(n[t-1],i),h(n[t],e[t]),h(n[t+1],e[t+1]),h(n[t+2],e[t+2]);break}e[t]===o&&e[t]&&(e[t-1]=i,e[t]="",q(i),h(n[t-1],i),h(n[t],e[t])),e[t]&&""===o&&(e[t-1]=e[t],e[t]="",h(n[t-1],e[t-1]),h(n[t],e[t]))}if("right"===r||"down"===r)for(var c=e.length-1;c>0;c--){var u=e[c-1],a=e[c]+u;if(e[c]===u&&""!==u&&e[c-2]===e[c-3]&&e[c-2]&&e[c-3]){e[c]=a,e[c-1]=e[c-2]+e[c-3],e[c-2]="",e[c-3]="",q(a+e[c]),h(n[c],a),h(n[c-1],e[c-1]),h(n[c-2],""),h(n[c-3],"");break}e[c]===u&&u&&(e[c-1]="",e[c]=a,q(a),h(n[c],a),h(n[c-1],"")),u&&""===e[c]&&(e[c]=e[c-1],e[c-1]="",h(n[c],e[c]),h(n[c-1],""))}}function S(r,e){for(var n=0;n<r.length;n++)h(r[n],e[n])}function M(r,e){if("left"===r||"up"===r)for(var n=1;n<e.length;n++){var t=e.find(function(r){return""===r}),o=e[n],i=e[n-1];if(i===t&&o)return l.push(!0),!0;if(""===e[0]&&o)return l.push(!0),!0;if(o&&i&&o===i)return l.push(!0),!0}if("right"===r||"down"===r)for(var c=e.length-1;c>0;c--){var u=e.find(function(r){return""===r}),a=e[c],f=e[c-1];if(a===u&&f)return l.push(!0),!0;if(""===e[e.length-1]&&a)return l.push(!0),!0;if(a&&f&&a===f)return l.push(!0),!0}return!1}function T(){var r=Array.from(document.querySelectorAll("td"));if(r.find(function(r){return r.innerHTML.includes("2048")}))document.querySelector(".message-win").classList.remove("hidden");else{for(var e=!0,n=0;n<r.length;n++){var t=r[n],o=r[n+1],i=r[n+4];if(!t.innerHTML||o&&3!==t.cellIndex&&t.innerHTML===o.innerHTML||i&&t.innerHTML===i.innerHTML){e=!1;break}}e&&document.querySelector(".message-lose").classList.remove("hidden")}}function q(r){s+=r,f.innerHTML=s}function H(){Array.from(document.querySelectorAll("td")).map(function(r){return h(r,""),r}),q(s=0),d(),d()}a.addEventListener("click",function(r){var e=r.target;document.querySelector(".message-start").classList.add("hidden"),document.querySelector(".message-win").classList.add("hidden"),document.querySelector(".message-lose").classList.add("hidden"),e.classList.remove("start"),e.classList.add("restart"),e.innerHTML="Restart",e.classList.contains("restart")&&H()}),document.addEventListener("keyup",function(r){switch(r.key){case"ArrowDown":v();break;case"ArrowUp":p();break;case"ArrowRight":L();break;case"ArrowLeft":A()}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.09992834.js.map